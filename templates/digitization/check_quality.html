{% extends 'base.html' %}
{% load static %}
{% block title %}成果质量检验{% endblock %}

{% block content %}
<div class="login-card">
    <h3 class="text-center mb-4">成果检验表单</h3>

    <div class="mb-3">
        <p><strong>批次号：</strong>{{ wo.batch_no }}</p>
        <p><strong>资料名称：</strong>{{ wo.out_bound.name }}</p>
        <p><strong>数字化人员：</strong>{{ wo.operator.full_name }}</p>
        <p><strong>登记时间：</strong>{{ wo.registered_at|date:"Y-m-d H:i" }}</p>
    </div>

    <form method="post">
        {% csrf_token %}
        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="tiff_complete" id="tiff">
            <label class="form-check-label" for="tiff">TIFF 图片是否完整</label>
        </div>

        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="jpeg_consistent" id="jpeg">
            <label class="form-check-label" for="jpeg">JPEG 图片是否一致</label>
        </div>

        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="pdf_assembled" id="pdf">
            <label class="form-check-label" for="pdf">是否合成 PDF</label>
        </div>

        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="ocr_done" id="ocr">
            <label class="form-check-label" for="ocr">是否完成 OCR</label>
        </div>

        <div class="form-group mt-3">
            <label for="score">OCR 处理评分（0-100）</label>
            <input type="number" name="ocr_score" class="form-control" id="score" min="0" max="100" value="0" required>
        </div>

        <div class="form-check mt-3">
            <input class="form-check-input" type="checkbox" name="data_intact" id="intact">
            <label class="form-check-label" for="intact">数据存储完整性是否通过</label>
        </div>

        <div class="d-grid gap-2 mt-4">
            <button type="submit" class="btn btn-microsoft btn-block">提交检验结果</button>
            <a href="{% url 'pending_quality_list' %}" class="btn btn-secondary btn-block mt-2">取消</a>
        </div>
    </form>
</div>
{% endblock %}
